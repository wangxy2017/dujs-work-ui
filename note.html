<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>笔记管理</title>
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="layui/css/layui.css">
    <link rel="stylesheet" href="css/note.css">
    <style>
        .main {
            padding: 10px;
        }
    </style>
</head>
<body>
<div class="main">
    <div class="layui-row">
        <div class="layui-col-md2" style="position: relative">
            <div class="layui-btn-container">
                <button type="button" class="layui-btn" onclick="showNoteCategories()">笔记分组</button>
                <button type="button" class="layui-btn" onclick="newNote()"><i class="layui-icon layui-icon-edit"></i>新建笔记</button>
            </div>
            <div id="notes">
                <ul class="note-group-list" v-if="notes.length>0">
                    <li class="note-group-item" v-for="note in notes" @click="viewNote($event,note.id)" :data-id="note.id">
                        <p class="name">{{note.title}}</p>
                        <p class="time">{{toLocalTime(note.updateTime)}}</p>
                        <i class="remove layui-icon layui-icon-close-fill" @click.stop="removeNote(note.id)"></i>
                    </li>
                </ul>
                <div style="margin-top: 10px;" v-else>暂无笔记</div>
            </div>
            <div id="recycleNotes" style="display: none">
                <ul class="note-group-list">
                    <li class="note-group-item" v-for="note in notes">
                        <p class="name">{{note.title}}</p>
                        <p class="time">{{toLocalTime(note.updateTime)}}</p>
                    </li>
                </ul>
                <div style="margin-top: 10px;padding-left: 16px;" v-show="notes.length>0">
                    <button class="layui-btn layui-btn-primary layui-btn-sm" @click="cleanNotes()">清空回收站</button>
                </div>
            </div>
            <div class="noteCategories" id="noteCategories">
                <div class="title"><span>笔记分组</span></div>
                <ul class="category-group">
                    <li class="category-group-item active" @click="getNotes($event,-2)">
                        <span class="item-icon"><i class="layui-icon layui-icon-ok"></i></span>
                        <span class="item-text">全部笔记</span>
                    </li>
                    <li class="category-group-item" v-for="c in categories" @click="getNotes($event,c.id)">
                        <span class="item-icon"><i class="layui-icon layui-icon-ok"></i></span>
                        <span class="item-text" v-text="c.name"></span>
                    </li>
                    <li class="category-group-item" @click="getNotes($event,-1)">
                        <span class="item-icon"><i class="layui-icon layui-icon-ok"></i></span>
                        <span class="item-text">回收站</span>
                    </li>
                </ul>
            </div>
        </div>
        <div class="layui-col-md10">
            <form class="layui-form" action="" id="noteForm" lay-filter="noteForm">
                <input type="hidden" id="id" name="id">
                <div class="layui-form-item">
                    <input type="text" name="title" required lay-verify="required" placeholder="请输入标题"
                           autocomplete="off" class="layui-input">
                </div>
                <div class="layui-form-item">
                    <textarea id="content" name="content" style="display: none;" lay-verify="content"></textarea>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label" style="text-align: left;padding: 9px 0;">选择分类：</label>
                    <div class="layui-input-inline">
                        <select name="category_id" lay-verify="required" id="category">
                            <option value="">请选择</option>
                        </select>
                    </div>
                </div>
                <div class="layui-form-item">
                    <div class="layui-input-inline">
                        <button class="layui-btn" lay-submit lay-filter="saveNote">立即提交</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<script src="jquery/jquery.min.js"></script>
<script src="layui/layui.js"></script>
<script src="vue/vue.min.js"></script>
<script src="js/config.js"></script>
<script src="js/note.js"></script>
</body>
</html>